++ Формат Записи Класса

Формат записи класса для абстракции и агрегации вместе.

+++Для чего нужна эта запись?
* Это текстовое описание структуры классов Сущностей. Оно используется для указания класса Сущности. 
  Например, для указания класса радиодетали, чтобы из таблицы базы данных выбирать детали требуемого класса.
  При этом общее дерево классов строится из строк описания классов отдельных деталей.
  Пример указания классов деталей:
	  * Транзистор::ТранзисторБиполярный
	  * Транзистор::ТранзисторПолевой
	  * ТранзисторБиполярный::ТранзисторPNP
	  * ТранзисторPNP
	  * Транзистор::IGBT 
  Собранное дерево классов:
	  * Транзистор
		* ТранзисторБиполярный
		  * ТранзисторPNP
		* ТранзисторПолевой
		* IGBT 
  Теперь из базы данных можно выбрать детали заданного класса, например, все (любые) транзисторы, или только биполярные транзисторы. 

+++Общие сведения
* Класс - это обозначение здесь названия типа Сущности.
	* Класс - простой тип. Имя класса может состоять из нескольких слов, содержать пробелы.
	* Имя класса состоит из букв, пробелов, знаков -+_= и цифр. Не должно содержать ,:;<> как символов формата разметки. 
	* Классы Сущностей должны иметь уникальные названия.	
	* Классы в записи разделяются точкой с запятой. После последнего элемента точка с запятой не обязательна.
	* Предполагается, что одна строка записи описывает классы для одной Сущности.
* Надкласс - это обозначение здесь класса, стоящего выше рассматриваемого класса в иерархии Абстракции либо Агрегации.
* Подкласс - это обозначение здесь класса, стоящего ниже рассматриваемого класса в иерархии Абстракции либо Агрегации.
* Контейнер - класс, включающий в себя другие классы (отношение Агрегации)

+++Отношение абстракции
* Класс::Класс - это отношение абстракции. Первый член выражения это надкласс, второй - подкласс в отношении абстракции. Надкласс в выражении может не указываться.
* Выражение :: может отделяться пробелами с одной или обеих сторон.

+++Отношение агрегации
* Класс<Класс> - тип-контейнер для сущностей другого типа.
* Класс<Класс, Класс, Класс> - тип - контейнер для сущностей нескольких типов
* Группа агрегации - классы, перечисленные внутри угловых скобок < группа агрегации >
* Символы группы агрегации < и > могут отделяться пробелами с одной или двух сторон.
* Вложенные агрегации не допускаются. Это упрощает и парсер, и восприятие выражения человеком.
* Внутри группы агрегации можно использовать одни лишь названия типов-контейнеров, а содержимое типа-контейнера описывать в другой строке.  
* Элементы группы агрегации разделяются запятыми. До и после запятых могут быть пробелы.
* Пример: Класс:: Класс;Класс ::Класс < Класс::Класс,Класс , Класс :: Класс >

+++Несколько классов одной сущности
* Элементы разделяются точкой с запятой. После последнего элемента точка с запятой не обязательна.
* Пример: Класс; Класс<Класс, Класс>;Класс

+++Комбинация абстракции и агрегации
* Пример: Класс::Класс; Класс::Класс<Класс::Класс, Класс, Класс::Класс>;

+++Сложный пример выражения
Это выражение описывает тип некоторой Сущности как соответствующей нескольким классам, с отношениями абстракции и агрегации. 
Для восприятия будет удобнее, если сложные части выражения поместить в конце, а простые в начале.
* Пример: Класс;Класс::Класс;Класс::Класс<Класс::Класс, Класс, Класс::Класс>;

+++Порядок парсинга выражения:
Это приблизительный набросок, его надо проверить и оптимизировать.
Предлагается обрабатывать строку выражения как дерево, каждый элемент на каждой стадии отдельной функцией.
* разделяем на элементы по ;
* у всех элементов удаляем пробелы с начала и конца Trim()
* Для каждого элемента отделяем группы по < и >. Получаем класс-контейнер и список классов-сущностей. 
* У всех частей  удаляем пробелы с начала и конца Trim()
* Список классов-сущностей делим по , Получаем классы-сущности
* У всех частей  удаляем пробелы с начала и конца Trim()
* Каждый элемент выражения отделяем родительский класс по ::
* У всех частей  удаляем пробелы с начала и конца Trim() 

  



